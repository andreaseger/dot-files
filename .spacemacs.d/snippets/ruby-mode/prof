#name: ruby profiling poilerplate
# key: profile
# binding: direkt-keybinding
# --
#!/usr/bin/env ruby

require 'ruby-prof'
PROFILE_NAME = "$1"

GC.disable
result = RubyProf.profile do
  $0
end

printer = RubyProf::CallTreePrinter.new(results)
printer.print(File.open("callgrind.out.#{PROFILE_NAME}", "w+"))

